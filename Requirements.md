# 闘魂AI将棋

将棋ウォーズのような対戦型将棋アプリを作りたい。  
ElixirのPhoenix LiveViewで作りたい。  

## なんでもあり

縁台でする将棋と同じ感覚のものを作りたい。  
つまり行けないところに駒を動かせるし、二歩もあり、王手放置もあり、連続王手あり、持ち駒の桂馬を相手の2段目や1段目に打つのもあり。  
アプリ側で駒の移動可能箇所を制御したりはしない。  
人間どうしで、縁台でする将棋をそのままアプリ化したい。  

前の手番の人が指したあとに、次の手番の人が「リクエスト」をできる。プロ野球の判定をし直してもらう「リクエスト」の意味と同じ。  
「リクエスト」は審判であるコンピュータが判定をする。  
「リクエスト」にもペナルティがないと毎回指す前に「リクエスト」すればよいというチートが生まれるので、相応の覚悟が必要で、「リクエスト」失敗は厳しいが即「負け」とする。  
「入玉宣言法」も採用したい。  

## 将来的には

- コンピュータとの対戦
- 各種記録（勝敗数など）
- 棋譜の保存
- レーティング
- 将棋ウォーズのようなド派手な演出
- 地球規模のゴミ問題の解決
- 世界恒久平和の実現

## 闘魂とは

「闘魂とは己に打ち克つこと、そして闘いを通じて己の魂を磨いていくことだと思います」とアントニオ猪木さんは述べられました。1998年4月4日闘強童夢（東京ドーム）において、４分９秒グランド・コブラツイストで[ドン・フライ選手を下した引退試合](https://wp.bbm-mobile.com/sp2/result/resultshow.asp?s=015056)後のセレモニーでのことです。  

AI = Antonio Inokiです。  

ちなみにアントニオ猪木さんは五段の免状をもらうほどの腕前です。力道山先生は三段です。  
猪木さんと同じ2月20日生まれの太陽・長嶋茂雄さんもアマ五段とのことです。  

- [アントニオ猪木は「将棋の五段免状取得」「内藤國雄九段と飲み仲間」…師匠・力道山も「遺影の横に三段免状」プロレスと棋士の意外な関係](https://number.bunshun.jp/articles/-/858959?page=1)
- [長嶋茂雄さん、慎重に考えて将棋の対局　中原誠十六世名人が悼む](https://www.asahi.com/articles/AST630TQHT63UCVL00HM.html)

## 闘魂 is not fighting spirit .

重要なことをお伝えします。  

闘魂をfighting spiritと直訳してはいけません。絶対にいけません。  
アントニオ猪木さんはこういいました。「闘魂とは己に打ち克つこと、そして闘いを通じて己の魂を磨いていくことだと思います」 これは別の言い方をすると王陽明先生の「山中の賊を破るは易く、心中の賊を破るは難し」です。大山康晴永世名人も「克己」という言葉を好まれたと聞きます。釜本邦茂さんも「己に剋つ」を座右の銘とされたそうです。つまり、世界でたたかう人たちに共通する心構えです。  
「たたかい」とは誰かを傷つける「戦い」ではなく、己自身との「闘い」です。相手と真剣勝負をしているようにみえて、その実は常に自分自身の弱い心、怠け心との「たたかい」なのであります。  
大事なことなのでもう一度言います。闘魂をfighting spiritと直訳してはいけません。一度言ってわからないことは二度言います。二度言ってわからないことは三度いいます。十回言います。千回いいます。万回いいます。そうすると満開の桜が咲くことでしょう。  

**Toukon: the unwavering will to overcome oneself, and to polish one’s soul through struggle—not against others, but against the weakness within. **

将棋とは己との闘いなのです。相手がいるようで、その実、対戦している相手は自分自身なのです。人は成長のスピードが異なります。才能のある人はアマ高段者になったり、さらに才能のある人はプロになったり、さらにさらに才能があり一番、真の意味でその時代で楽しんでいる人が時の名人になるのでしょう。論語に言う、知好楽です。「楽しむ」ものが一番上なのです。それを周りからみると、血の滲むような努力ということになるのでしょう。自分で「血の滲むような努力」とアピールする人は、厳しい言い方ですし、何者でもない私が言うのはおこがましいのは重々承知で言うと「そこまで」なのです。上には上がいますし、2025年現在、歴代名人だってArtificial Intelligenceの方のAIには勝てません。まだコンピュータ将棋の実力がアマ初段くらいしかなかったときに、周りはプロにまさか勝つような日はこないと考えていました。ただ一人、大山康晴永世名人はこの日が来ることを見抜かれていました。時の名人がコンピュータに勝てなくなる日を。しかし真の名人が現れるとき、AIにも勝つ名人がきっと現れるでしょう。このアプリを利用した人の中からその真の名人が生まれることを期しております。  

## 駒の画像

駒の画像は Phoenix の静的ディレクトリ `priv/static/images/koma/` に格納する。

- syougi02_gyokusyou.png : 玉将
- syougi03_hisya.png : 飛車
- syougi04_ryuuou.png : 龍
- syougi05_gakugyou.png : 角行
- syougi06_ryuuma.png : 馬
- syougi07_kinsyou.png : 金将
- syougi08_ginsyou.png : 銀将
- syougi09_narigin.png : 成銀
- syougi10_keima.png : 桂馬
- syougi11_narikei.png : 成桂
- syougi12_kyousya.png : 香車
- syougi13_narikyou.png : 成香
- syougi14_fuhyou.png : 歩兵
- syougi15_tokin.png : と金

## MVP（Minimum Viable Product）

やりたいことはたくさんあるがまず最初にほしいものは以下の通り。  

- Phoenix LiveViewで実装する
- ユーザ管理
- 二人以上入室したらマッチングして対戦開始
- 将棋盤に平手の初期配置
- 先手後手は、ランダム（振り駒のイメージ）
- 先手が指す（初手「リクエスト」や「参りました」もできる）、後手は「リクエスト」か「参りました」か「指す」かの三択
  - あとはその繰り返し
  - 「リクエスト」の判定機能は複雑な将棋ロジックの実装が必要なので後回し
  - 初期段階では喧嘩両成敗で「引き分け」とし、先後を入れ替えて指し直しとする
- 相手の3段目までに進むと「成」か「不成」を選べる
  - 桂馬を相手の1段目に不成もあり（ちゃんと自分で「成」をさせる意図）
- 相手が指すときにはクリックしたら、駒が浮いて、マウスカーソルについていって、マウスのリリースでその場所に置くというようなよくある将棋ゲームの操作感は演出してほしい
- 相手が「参りました」をしたらゲーム終了し、勝者を称える

[LiveViewJP](https://liveviewjp.connpass.com/event/360414/) というイベントがあり、最低将棋ができるものを作りたい。  
